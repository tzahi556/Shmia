
<style>
    .nopadding {
        padding: 0px !important;
        margin: 0px !important;
    }

    .signature {
        height: 140px;
        border: 1px solid gray;
        border-radius: 5px;
    }

        .signature canvas {
            height: 100%;
            width: 100%;
        }

    .date {
        direction: ltr;
        text-align: right;
    }

    input[type="file"] {
        display: none;
    }

    .custom-file-upload {
        border: 1px solid #ccc;
        border-radius: 5px;
        background: #5bc0de;
        display: inline-block;
        padding: 6px 12px;
        cursor: pointer;
        color: white;
    }
</style>


<form name="workerForm">



    <div ng-if="$ctrl.farmStyle!=1 || $ctrl.role=='farmAdmin' ||  $ctrl.role=='instructor'">




        <!--טופס הסכם-->
        <div class="col-md-12 nopadding">

            <div class="panel panel-primary">
                <div class="panel-heading">
                    פרטים נוספים
                </div>
                <div class="panel-body">


                    <div class="row" ng-repeat="group in $ctrl.groupsonly">
                        <div class="col-md-12 alert-info">
                            <label>{{group.Name}}</label>
                        </div>


                        <div ng-if="screend.f2g.IsWorkerHide!=1" class="col-md-{{12/group.CountFieldsInRow}}" ng-repeat="screend in getGroupsDetails(group.Id)">
                           
                            
                            <div class="form-group" ng-if="screend.f2g.FieldsDataTypesId!=4">
                                <label ng-if="!screend.f2g.Title">{{screend.f.Name}}</label>
                                <label ng-if="screend.f2g.Title">{{screend.f2g.Title}}</label>

                                <input ng-if="screend.f2g.FieldsDataTypesId==1" type="text" class="form-control" ng-model="screend.f2gwd.Value"/>
                                <input ng-if="screend.f2g.FieldsDataTypesId==2" type="number" class="form-control" ng-model="screend.f2gwd.Value"/>
                                <input ng-if="screend.f2g.FieldsDataTypesId==3" type="date" class="form-control date" ng-model="screend.f2gwd.Value"/>
                                <!--<input ng-if="screend.f2g.FieldsDataTypesId==4" type="checkbox" class="form-check-input" />-->
                                <textarea ng-if="screend.f2g.FieldsDataTypesId==5" type="text" class="form-control" ng-model="screend.f2gwd.Value" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" rows="4"></textarea>
                            </div>


                           
                                <div class="col-md-12" ng-if="screend.f2g.FieldsDataTypesId==4">
                                   
                                    <div class="checkbox">
                                        <input class="form-check-input"
                                               type="checkbox" ng-model="screend.f2gwd.Value"/>
                                        <span ng-if="!screend.f2g.Title">
                                            {{screend.f.Name}}
                                        </span>
                                        <span ng-if="screend.f2g.Title">
                                            {{screend.f2g.Title}}
                                        </span>


                                    </div>
                                </div>
                            





                        </div>

                    </div>


                    <!--<div class="row">


                        <div class="col-md-12 alert-info">
                            <label>הסכם נחתם</label>
                            <a href="../../AppData/Agree.pdf" target="_blank">צפיה בהסכם</a>
                        </div>

                        <div class="col-md-2">
                            <div class="form-group">
                                <label>ביום</label>
                                <input type="text" class="form-control" ng-model="$ctrl.worker.HeskemYom" />
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>חודש</label>
                                <input type="text" class="form-control" ng-model="$ctrl.worker.HeskemHodesh" />
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>שנה</label>
                                <input type="text" class="form-control" ng-model="$ctrl.worker.HeskemShana" />
                            </div>

                        </div>

                    </div>

                    הסכם
                    <div class="row">
                        <div class="col-md-12 alert-info">
                            <label>בין</label>
                        </div>


                        <div class="col-md-2">
                            <div class="form-group">
                                <label> שם עובדת</label>
                                <input type="text" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-model="$ctrl.worker.HeskemWorkerName" />
                            </div>

                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>ת"ז </label>
                                <input type="text" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-model="$ctrl.worker.HeskemWorkerTaz" />
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>רחוב</label>
                                <input type="text" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-model="$ctrl.worker.HeskemWorkerStreet" />
                            </div>

                        </div>

                        <div class="col-md-2">
                            <div class="form-group">
                                <label>עיר</label>
                                <input type="text" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-disabled="true" ng-model="$ctrl.worker.City" />
                            </div>

                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>טלפון</label>
                                <input type="text" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-model="$ctrl.worker.HeskemWorkerPhone" />
                            </div>

                        </div>


                    </div>

                    תפקיד ומועד העסק
                    <div class="row">
                        <div class="col-md-12 alert-info">
                            <label>  תפקיד ומועד העסקה</label>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label> תפקיד</label>
                                <input type="text" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-model="$ctrl.worker.HeskemTafkid" />
                            </div>

                        </div>

                        <div class="col-md-2">
                            <div class="form-group">
                                <label>תחת סמכות (רכזת מועדונים)</label>
                                <input type="text" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-model="$ctrl.worker.HeskemSamkut" />
                            </div>

                        </div>

                        <div class="col-md-2">
                            <div class="form-group">
                                <label>מועד התחלת העסקה</label>
                                <input type="date" class="form-control date" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-model="$ctrl.worker.HeskemStartDate" />
                            </div>
                        </div>

                        <div class="col-md-2">
                            <div class="form-group">
                                <label>ימים א-ה משעה</label>
                                <input type="text" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-model="$ctrl.worker.HeskemStartHour" />
                            </div>

                        </div>


                        <div class="col-md-2">
                            <div class="form-group">
                                <label>עד שעה</label>
                                <input type="text" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-model="$ctrl.worker.HeskemEndHour" />
                            </div>

                        </div>


                    </div>

                    הצהרת בריאות
                    <div class="row">
                        <div class="col-md-12 alert-info">
                            <label>הצהרת בריאות</label>
                        </div>


                        <div class="col-md-12">
                            <div class="form-group">



                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="col-md-12">
                                            <div class="checkbox">
                                                <input class="form-check-input"
                                                       type="checkbox" ng-model="$ctrl.worker.HeskemBriutEnKlumCheckbox" />
                                                <span>
                                                    העובדת מצהירה כי אין לה מגבלות רפואיות כלש הן ומצבה הבריאותי תקין.
                                                    במידה ותהיה מגבלה רפואית, מתחייבת העובדת לדווח על כך לעמותה בהקדם
                                                    האפשרי.
                                                </span>

                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="col-md-2">
                                            <div class="checkbox">
                                                <input class="form-check-input"
                                                       type="checkbox" ng-model="$ctrl.worker.HeskemWorkerMigbalotCheckbox" />
                                                <span>
                                                    יש לה מגבלות בריאותיות והן
                                                </span>

                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">

                                                <input type="text" class="form-control" placeholder="פירוט מגבלות רפואיות" ng-model="$ctrl.worker.HeskemWorkerMigbalot" />
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="col-md-2">
                                            <div class="checkbox">
                                                <input class="form-check-input"
                                                       type="checkbox" ng-model="$ctrl.worker.HeskemWorkerTrufotCheckbox" />
                                                <span>
                                                    לוקחת תרופות באופן קבוע
                                                </span>

                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">

                                                <input type="text" class="form-control" placeholder="פירוט התרופות" ng-model="$ctrl.worker.HeskemWorkerTrufot" />
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="col-md-2">
                                            <div class="checkbox">
                                                <input class="form-check-input"
                                                       type="checkbox" ng-model="$ctrl.worker.HeskemWorkerRgishutCheckbox" />
                                                <span>
                                                    רגישות
                                                </span>

                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">

                                                <input type="text" class="form-control" placeholder="פירוט רגישויות" ng-model="$ctrl.worker.HeskemWorkerRgishut" />
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="col-md-2">
                                            <div class="checkbox">
                                                <input class="form-check-input"
                                                       type="checkbox" ng-model="$ctrl.worker.HeskemWorkerCronitCheckbox" />
                                                <span>
                                                    מחלה כרונית
                                                </span>

                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">

                                                <input type="text" class="form-control" placeholder="פירוט מחלות כרוניות" ng-model="$ctrl.worker.HeskemWorkerCronit" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>



                    </div>

                    שכר
                    <div class="row">

                        <div class="col-md-12 alert-info">
                            <label>שכר</label>
                        </div>


                        <div class="row">



                            <div class="col-md-12">

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label> שכר שעתי</label>
                                        <input type="number" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-model="$ctrl.worker.HeskemWorkerMaskuert3" required />
                                    </div>

                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label> שכר גלובלי</label>
                                        <input type="number" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" ng-model="$ctrl.worker.HeskemWorkerMaskuert4" required />
                                    </div>

                                </div>






                            </div>
                        </div>



                    </div>

                    בנק
                    <div class="row">

                        <div class="col-md-12 alert-info">
                            <label>פרטי הבנק</label>
                        </div>


                        <div class="row">



                            <div class="col-md-12">

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label> מספר ושם הבנק</label>
                                        <input id="txtBanks" class="form-control autocomplete" type="text" autocomplete="off" ng-change="$ctrl.changeBank()" ng-model="$ctrl.worker.BankNumName" />
                                    </div>

                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label> מספר ושם סניף</label>
                                        <input id="txtBanksBrunchs" class="form-control autocomplete" type="text" autocomplete="off" ng-model="$ctrl.worker.BrunchNumName" />
                                    </div>

                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label> מספר חשבון</label>
                                        <input type="text" class="form-control" ng-model="$ctrl.worker.BankAccountNumber" />
                                    </div>

                                </div>


                            </div>
                        </div>



                    </div>

                    הערות
                    <div class="row">

                        <div class="col-md-12 alert-info">
                            <label>הערות</label>
                        </div>


                        <div class="row">


                            <div class="col-md-12">

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>הערות</label>
                                        <textarea type="text" class="form-control" ng-disabled="$ctrl.role!='farmAdmin' && $ctrl.role!='instructor'" rows="4" ng-model="$ctrl.worker.Comments"></textarea>
                                    </div>

                                </div>




                            </div>
                        </div>



                    </div>-->

                </div>

            </div>
        </div>
    </div>



    <!--הצהרה - 101-->
    <div class="col-md-12 nopadding">


        <!--<img id="imgWorker"  src="{{$ctrl.image}}"/>-->
        <div class="panel panel-primary">
            <div class="panel-heading">
                הצהרה
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-12">
                        <label>אני מצהיר/ה כי הפרטים שמסרתי בטופס זה הינם מלאים ונכונים. ידוע לי שהשמטה או מסירת פרטים לא נכונים הינה עבירה על פקודת מס הכנסה.</label>
                        <label>אני מתחייב/ת להודיע למעביד על כל שינוי שיחול בפרטיי האישיים ובפרטים דלעיל תוך שבוע ימים מתאריך השינוי.</label>
                        <br /><color style="color:red">*</color><span>חתימת המבקש/ת</span>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-12">


                                <signature-pad dataurl="storedSignature" accept="accept" clear="clear"></signature-pad>
                                <!--<button ng-click="clear()">Reset</button>
                                <button ng-click="restore()">Clear and restore</button>-->
                                <!--<div id="bcPaint"></div>-->
                            </div>

                            <div class="col-md-12">

                            </div>

                            <div class="col-md-6">
                                <label class="tp-help-below">ניתן לחתום בעזרת העכבר או עם האצבע על מסך מגע.</label>
                            </div>

                            <div class="col-md-6" style="text-align:left">
                                <div class="btn  btn-primary" ng-click="$ctrl.clearSignuture()">נקה חתימה</div>
                            </div>

                        </div>
                    </div>



                </div>
                <div class="row">
                    <div class="col-md-12">
                        <hr />
                    </div>
                    <div class="col-md-4">
                        <div ng-if="$ctrl.farmStyle!=1 || $ctrl.role=='farmAdmin' ||  $ctrl.role=='instructor'" style="width:100%;margin-top:2px" class="btn  btn-primary" ng-click="$ctrl.saveWorker(1)">שמור נתונים</div>
                    </div>
                    <div class="col-md-4" style="text-align:center">
                        <div style="width:100%;margin-top:2px" class="btn  btn-info" ng-click="$ctrl.saveWorker(2)">שמור ושלח טופס</div>
                    </div>
                    <div class="col-md-4" style="text-align:left">
                        <div style="width:100%;margin-top:2px" class="btn  btn-warning" ng-click="$ctrl.saveWorker(3)">תצוגה מקדימה PDF</div>
                    </div>
                </div>
            </div>


        </div>

    </div>




</form>